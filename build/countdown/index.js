(()=>{"use strict";var e,t={104:()=>{const e=window.wp.blocks,t=(window.wp.i18n,window.wp.blockEditor),n=window.wp.data,o=window.wp.components,s=(Math.pow(10,8),Symbol.for("constructDateFrom"));function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&s in e?e[s](t):e instanceof Date?new e.constructor(t):new Date(t)}function r(e,t){return a(t||e,e)}function l(e,t,n){const o=r(e,n?.in);return isNaN(t)?a(n?.in||e,NaN):t?(o.setDate(o.getDate()+t),o):o}const c=window.wp.element;function i(e,...t){const n=a.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function u(e,t,n){const{years:o=0,months:s=0,weeks:c=0,days:i=0,hours:u=0,minutes:d=0,seconds:h=0}=t,p=r(e,n?.in),m=s||o?function(e,t,n){const o=r(e,n?.in);if(isNaN(t))return a(n?.in||e,NaN);if(!t)return o;const s=o.getDate(),l=a(n?.in||e,o.getTime());return l.setMonth(o.getMonth()+t+1,0),s>=l.getDate()?l:(o.setFullYear(l.getFullYear(),l.getMonth(),s),o)}(p,s+12*o):p,g=i||c?l(m,i+7*c):m,b=1e3*(h+60*(d+60*u));return a(n?.in||e,+g+b)}function d(e){const t=r(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function h(e,t){const n=r(e,t?.in);return n.setHours(0,0,0,0),n}function p(e,t,n){const[o,s]=i(n?.in,e,t),a=m(o,s),r=Math.abs(function(e,t,n){const[o,s]=i(n?.in,e,t),a=h(o),r=h(s),l=+a-d(a),c=+r-d(r);return Math.round((l-c)/864e5)}(o,s));o.setDate(o.getDate()-a*r);const l=a*(r-Number(m(o,s)===-a));return 0===l?0:l}function m(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function g(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function b(e,t,n){const[o,s]=i(n?.in,e,t),a=(+o-+s)/36e5;return g(n?.roundingMethod)(a)}function w(e,t){return+r(e)-+r(t)}function _(e,t,n){const o=w(e,t)/6e4;return g(n?.roundingMethod)(o)}function x(e,t){const n=+r(e)-+r(t);return n<0?-1:n>0?1:n}function f(e,t){const n=r(e,t?.in);return+function(e,t){const n=r(e,t?.in);return n.setHours(23,59,59,999),n}(n,t)===+function(e,t){const n=r(e,t?.in),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}(n,t)}function k(e,t,n){const[o,s,a]=i(n?.in,e,e,t),r=x(s,a),l=Math.abs(function(e,t,n){const[o,s]=i(n?.in,e,t);return 12*(o.getFullYear()-s.getFullYear())+(o.getMonth()-s.getMonth())}(s,a));if(l<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*l);let c=x(s,a)===-r;f(o)&&1===l&&1===x(o,a)&&(c=!1);const u=r*(l-+c);return 0===u?0:u}function y(e,t,n){const[o,s]=i(n?.in,e,t),a=x(o,s),r=Math.abs(function(e,t,n){const[o,s]=i(n?.in,e,t);return o.getFullYear()-s.getFullYear()}(o,s));o.setFullYear(1584),s.setFullYear(1584);const l=a*(r-+(x(o,s)===-a));return 0===l?0:l}function j(e,t){const{start:n,end:o}=function(e,t){const[n,o]=i(e,t.start,t.end);return{start:n,end:o}}(t?.in,e),s={},a=y(o,n);a&&(s.years=a);const r=u(n,{years:s.years}),l=k(o,r);l&&(s.months=l);const c=u(r,{months:s.months}),d=p(o,c);d&&(s.days=d);const h=u(c,{days:s.days}),m=b(o,h);m&&(s.hours=m);const x=u(h,{hours:s.hours}),f=_(o,x);f&&(s.minutes=f);const j=function(e,t,n){const o=w(e,t)/1e3;return g(n?.roundingMethod)(o)}(o,u(x,{minutes:s.minutes}));return j&&(s.seconds=j),s}const D=(e,t=!0,n=!0)=>{const o=new Date,s=new Date(e);let{hours:a,minutes:r,seconds:l}=j({start:o,end:s});const c=p(s,o);return a||(a=0),r||(r=0),l||(l=0),t||(a=b(s,o)),n||(r=_(s,o)),{days:c,hours:a,minutes:r,seconds:l}},M=window.ReactJSXRuntime,N=({targetDateTime:e,displayDays:t,displayHours:n,labels:o,showSeparator:s=!0,prependZero:a=!0})=>{const[r,l]=(0,c.useState)(D(e,t,n));return(0,c.useEffect)(()=>{const o=setInterval(()=>{l(D(e,t,n))},1e3);return()=>clearInterval(o)},[e,t,n]),(0,M.jsxs)(M.Fragment,{children:[t&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--days",children:[(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:a?String(r.days).padStart(2,"0"):r.days}),o.days?(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.days}):null]}),s&&(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"})]}),n&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--hours",children:[(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:a?String(r.hours).padStart(2,"0"):r.hours}),o.hours?(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.hours}):null]}),s&&(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"})]}),(0,M.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--minutes",children:[(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:a?String(r.minutes).padStart(2,"0"):r.minutes}),o.minutes?(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.minutes}):null]}),s&&(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"}),(0,M.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--seconds",children:[(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:a?String(r.seconds).padStart(2,"0"):r.seconds}),o.seconds?(0,M.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.seconds}):null]})]})},S=JSON.parse('{"UU":"blocksmith/countdown"}');(0,e.registerBlockType)(S.UU,{edit:function(e){const{attributes:s,setAttributes:a}=e;let{targetDateTime:r,displayDaysUnit:c,displayHoursUnit:i,daysLabel:u,hoursLabel:d,minutesLabel:h,secondsLabel:p,showSeparator:m,prependZero:g}=s;r||(r=l(new Date,1));const b=(0,n.useSelect)(e=>{var t;const n=e("core/block-editor").getSettings();return null!==(t=n?.typography)&&void 0!==t?t:[]},[]);return console.log(b),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(t.InspectorControls,{children:[(0,M.jsxs)(o.PanelBody,{children:[(0,M.jsx)(o.DateTimePicker,{currentDate:r,onChange:e=>{a({targetDateTime:e})},is12Hour:!0}),(0,M.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Display Days Unit",checked:c,onChange:()=>{const e=!c;a({displayDaysUnit:e}),e&&a({displayHoursUnit:!0})}}),c?null:(0,M.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Display Seconds Unit",checked:i,onChange:()=>a({displayHoursUnit:!i})}),(0,M.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show Separators",checked:m,onChange:()=>a({showSeparator:!m})}),(0,M.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Prepend Zero",checked:g,onChange:()=>a({prependZero:!g})})]}),(0,M.jsxs)(o.PanelBody,{title:"Labels",initialOpen:!1,children:[(0,M.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Days",help:"Update the default days label.",onChange:e=>a({daysLabel:e}),placeholder:"Days",value:u}),(0,M.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Hours",help:"Update the default hours label.",onChange:e=>a({hoursLabel:e}),placeholder:"Hours",value:d}),(0,M.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Minutes",help:"Update the default minutes label.",onChange:e=>a({minutesLabel:e}),placeholder:"Minutes",value:h}),(0,M.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Seconds",help:"Update the default seconds label.",onChange:e=>a({secondsLabel:e}),placeholder:"Seconds",value:p})]})]}),(0,M.jsx)(t.InspectorControls,{group:"styles",children:(0,M.jsx)(o.PanelBody,{title:"Count item",initialOpen:!1,children:(0,M.jsx)(t.__experimentalFontFamilyControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,fontFamilies:b,onChange:()=>{}})})}),(0,M.jsx)("div",{...(0,t.useBlockProps)(),children:(0,M.jsx)(N,{targetDateTime:r,displayDays:c,displayHours:i,labels:{days:u,hours:d,minutes:h,seconds:p},showSeparator:m,prependZero:g})})]})}})}},n={};function o(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,s,a)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,s,a]=e[u],l=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every(e=>o.O[e](n[c]))?n.splice(c--,1):(l=!1,a<r&&(r=a));if(l){e.splice(u--,1);var i=s();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,s,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={449:0,797:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,[r,l,c]=n,i=0;if(r.some(t=>0!==e[t])){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(c)var u=c(o)}for(t&&t(n);i<r.length;i++)a=r[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=globalThis.webpackChunkblocksmith=globalThis.webpackChunkblocksmith||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[797],()=>o(104));s=o.O(s)})();