(()=>{"use strict";var e,t={591:()=>{const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.components,s=window.ReactJSXRuntime,a=({label:e,value:t,onChange:n,fontFamilies:a})=>{const l=[{key:"default",name:"Default"},...a.map(({name:e,slug:t,fontFamily:n})=>({key:t,name:e,style:{fontFamily:n}}))];return(0,s.jsx)(o.CustomSelectControl,{__next40pxDefaultSize:!0,label:e,value:((e,t)=>e?t.find(({key:t})=>t===e):null)(t,l),options:l,onChange:n})},l=(Math.pow(10,8),Symbol.for("constructDateFrom"));function r(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&l in e?e[l](t):e instanceof Date?new e.constructor(t):new Date(t)}function i(e,t){return r(t||e,e)}function c(e,t,n){const o=i(e,n?.in);return isNaN(t)?r(n?.in||e,NaN):t?(o.setDate(o.getDate()+t),o):o}const u=window.wp.element;function d(e,...t){const n=r.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function h(e,t,n){const{years:o=0,months:s=0,weeks:a=0,days:l=0,hours:u=0,minutes:d=0,seconds:h=0}=t,p=i(e,n?.in),m=s||o?function(e,t,n){const o=i(e,n?.in);if(isNaN(t))return r(n?.in||e,NaN);if(!t)return o;const s=o.getDate(),a=r(n?.in||e,o.getTime());return a.setMonth(o.getMonth()+t+1,0),s>=a.getDate()?a:(o.setFullYear(a.getFullYear(),a.getMonth(),s),o)}(p,s+12*o):p,g=l||a?c(m,l+7*a):m,b=1e3*(h+60*(d+60*u));return r(n?.in||e,+g+b)}function p(e){const t=i(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function m(e,t){const n=i(e,t?.in);return n.setHours(0,0,0,0),n}function g(e,t,n){const[o,s]=d(n?.in,e,t),a=b(o,s),l=Math.abs(function(e,t,n){const[o,s]=d(n?.in,e,t),a=m(o),l=m(s),r=+a-p(a),i=+l-p(l);return Math.round((r-i)/864e5)}(o,s));o.setDate(o.getDate()-a*l);const r=a*(l-Number(b(o,s)===-a));return 0===r?0:r}function b(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function f(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function w(e,t,n){const[o,s]=d(n?.in,e,t),a=(+o-+s)/36e5;return f(n?.roundingMethod)(a)}function x(e,t){return+i(e)-+i(t)}function _(e,t,n){const o=x(e,t)/6e4;return f(n?.roundingMethod)(o)}function y(e,t){const n=+i(e)-+i(t);return n<0?-1:n>0?1:n}function k(e,t){const n=i(e,t?.in);return+function(e,t){const n=i(e,t?.in);return n.setHours(23,59,59,999),n}(n,t)===+function(e,t){const n=i(e,t?.in),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}(n,t)}function j(e,t,n){const[o,s,a]=d(n?.in,e,e,t),l=y(s,a),r=Math.abs(function(e,t,n){const[o,s]=d(n?.in,e,t);return 12*(o.getFullYear()-s.getFullYear())+(o.getMonth()-s.getMonth())}(s,a));if(r<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*r);let i=y(s,a)===-l;k(o)&&1===r&&1===y(o,a)&&(i=!1);const c=l*(r-+i);return 0===c?0:c}function D(e,t,n){const[o,s]=d(n?.in,e,t),a=y(o,s),l=Math.abs(function(e,t,n){const[o,s]=d(n?.in,e,t);return o.getFullYear()-s.getFullYear()}(o,s));o.setFullYear(1584),s.setFullYear(1584);const r=a*(l-+(y(o,s)===-a));return 0===r?0:r}function S(e,t){const{start:n,end:o}=function(e,t){const[n,o]=d(e,t.start,t.end);return{start:n,end:o}}(t?.in,e),s={},a=D(o,n);a&&(s.years=a);const l=h(n,{years:s.years}),r=j(o,l);r&&(s.months=r);const i=h(l,{months:s.months}),c=g(o,i);c&&(s.days=c);const u=h(i,{days:s.days}),p=w(o,u);p&&(s.hours=p);const m=h(u,{hours:s.hours}),b=_(o,m);b&&(s.minutes=b);const y=function(e,t,n){const o=x(e,t)/1e3;return f(n?.roundingMethod)(o)}(o,h(m,{minutes:s.minutes}));return y&&(s.seconds=y),s}const M=(e,t=!0,n=!0)=>{const o=new Date,s=new Date(e);let{hours:a,minutes:l,seconds:r}=S({start:o,end:s});const i=g(s,o);return a||(a=0),l||(l=0),r||(r=0),t||(a=w(s,o)),n||(l=_(s,o)),{days:i,hours:a,minutes:l,seconds:r}},F=({targetDateTime:e,displayDays:t,displayHours:n,labels:o,showSeparator:a=!0,prependZero:l=!0})=>{const[r,i]=(0,u.useState)(M(e,t,n));return(0,u.useEffect)(()=>{const o=setInterval(()=>{i(M(e,t,n))},1e3);return()=>clearInterval(o)},[e,t,n]),(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--days",children:[(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:l?String(r.days).padStart(2,"0"):r.days}),o.days?(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.days}):null]}),a&&(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"})]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--hours",children:[(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:l?String(r.hours).padStart(2,"0"):r.hours}),o.hours?(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.hours}):null]}),a&&(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"})]}),(0,s.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--minutes",children:[(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:l?String(r.minutes).padStart(2,"0"):r.minutes}),o.minutes?(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.minutes}):null]}),a&&(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__separator",children:":"}),(0,s.jsxs)("span",{className:"wp-block-blocksmith-countdown__item wp-block-blocksmith-countdown__item--seconds",children:[(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__number",children:l?String(r.seconds).padStart(2,"0"):r.seconds}),o.seconds?(0,s.jsx)("span",{className:"wp-block-blocksmith-countdown__label",children:o.seconds}):null]})]})},N=JSON.parse('{"UU":"blocksmith/countdown"}');(0,e.registerBlockType)(N.UU,{edit:function(e){const{attributes:l,setAttributes:r}=e;let{targetDateTime:i,displayDaysUnit:u,displayHoursUnit:d,daysLabel:h,hoursLabel:p,minutesLabel:m,secondsLabel:g,showSeparator:b,prependZero:f,alignment:w,labelFontFamily:x,labelFontSize:_}=l;i||(i=c(new Date,1));const[y]=(0,n.useSettings)("typography.fontFamilies");let[k]=(0,n.useSettings)("typography.fontSizes");const[j]=(0,n.useSettings)("typography.units"),D=[];return D.push(`has-text-align-${w}`),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.BlockControls,{children:(0,s.jsx)(n.AlignmentToolbar,{value:w,onChange:e=>{r({alignment:e})}})}),(0,s.jsxs)(n.InspectorControls,{children:[(0,s.jsxs)(o.PanelBody,{children:[(0,s.jsx)(o.DateTimePicker,{currentDate:i,onChange:e=>{r({targetDateTime:e})},is12Hour:!0}),(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Display Days Unit",checked:u,onChange:()=>{const e=!u;r({displayDaysUnit:e}),e&&r({displayHoursUnit:!0})}}),u?null:(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Display Seconds Unit",checked:d,onChange:()=>r({displayHoursUnit:!d})}),(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show Separators",checked:b,onChange:()=>r({showSeparator:!b})}),(0,s.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Prepend Zero",checked:f,onChange:()=>r({prependZero:!f})})]}),(0,s.jsxs)(o.PanelBody,{title:"Labels",initialOpen:!1,children:[(0,s.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Days",help:"Update the default days label.",onChange:e=>r({daysLabel:e}),placeholder:"Days",value:h}),(0,s.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Hours",help:"Update the default hours label.",onChange:e=>r({hoursLabel:e}),placeholder:"Hours",value:p}),(0,s.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Minutes",help:"Update the default minutes label.",onChange:e=>r({minutesLabel:e}),placeholder:"Minutes",value:m}),(0,s.jsx)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Seconds",help:"Update the default seconds label.",onChange:e=>r({secondsLabel:e}),placeholder:"Seconds",value:g})]})]}),(0,s.jsx)(n.InspectorControls,{group:"styles",children:(0,s.jsxs)(o.PanelBody,{title:"Labels",initialOpen:!1,children:[(0,s.jsx)(a,{label:(0,t.__)("Font Family","blocksmith"),fontFamilies:y.theme,onChange:e=>{r({labelFontFamily:"default"===e.selectedItem.key?e.selectedItem.key:void 0})},value:x}),(0,s.jsx)(o.FontSizePicker,{__next40pxDefaultSize:!0,fallbackFontSize:0,units:j,fontSizes:k,value:(e=>{const t=k.find(t=>t.slug===e);return t?t.size:e})(_),onChange:(e,t)=>{r({labelFontSize:t?t.slug:e})}}),(0,s.jsx)("div",{style:{marginBottom:"200px"}})]})}),(0,s.jsx)("div",{...(0,n.useBlockProps)({className:D.join(" ")}),children:(0,s.jsx)(F,{targetDateTime:i,displayDays:u,displayHours:d,labels:{days:h,hours:p,minutes:m,seconds:g},showSeparator:b,prependZero:f})})]})}})}},n={};function o(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,s,a)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){for(var[n,s,a]=e[u],r=!0,i=0;i<n.length;i++)(!1&a||l>=a)&&Object.keys(o.O).every(e=>o.O[e](n[i]))?n.splice(i--,1):(r=!1,a<l&&(l=a));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,s,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={449:0,797:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,[l,r,i]=n,c=0;if(l.some(t=>0!==e[t])){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(i)var u=i(o)}for(t&&t(n);c<l.length;c++)a=l[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=globalThis.webpackChunkblocksmith=globalThis.webpackChunkblocksmith||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[797],()=>o(591));s=o.O(s)})();